<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
      <title>
        Idyll REGL
      </title>
      <meta property="og:title" content="Idyll REGL">
    <meta charset="utf-8">
    <meta property="og:type" content="article">

      <meta property="og:description" content="Using Idyll with REGL for inline webgl">
      <meta property="description" content="Using Idyll with REGL for inline webgl">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="idyll-mount">
      <div class="idyll-root" data-reactroot="" data-reactid="1" data-react-checksum="-1058921347"><meta title="Idyll REGL" data-reactid="2"/><div class="idylllogo" data-reactid="3"></div><header title="Using regl with Idyll" data-reactid="4"></header><p data-reactid="5"><!-- react-text: 6 -->If you haven&#x27;t seen regl, go check out the website: <!-- /react-text --><link href="http://regl.party/" data-reactid="7"/><!-- react-text: 8 -->.
It&#x27;s a really nice library for stateless WebGL programming, created by <!-- /react-text --><link href="https://0hz.life/" data-reactid="9"/><!-- react-text: 10 -->.
Because of the statelessness, regl commands are naturally parameterized, making it straightforward to include WebGL sketches
inline with your text in Idyll.<!-- /react-text --></p><p data-reactid="11"><!-- react-text: 12 -->For example, with a minor modification to regl&#x27;s <!-- /react-text --><link href="http://regl.party/examples" data-reactid="13"/><!-- react-text: 14 -->
we can embed it in an Idyll document, and a dynamic variable to change the size of the particles.<!-- /react-text --></p><p data-reactid="15"><!-- react-text: 16 -->
Particle size: <!-- /react-text --><div class="dynamic" value="0.5" min="0.1" max="8" data-reactid="17"></div></p><div class="particles" data-reactid="18"></div><p data-reactid="19"><!-- react-text: 20 -->
Or we can let a reader change the angle of rotation, Î¸ = <!-- /react-text --><div class="dynamic" value="0.04" format="0.2f" data-reactid="21"></div><!-- react-text: 22 -->,
of this <!-- /react-text --><link href="http://regl.party/examples" data-reactid="23"/><!-- react-text: 24 -->.<!-- /react-text --></p><div class="geomorph" data-reactid="25"></div><p data-reactid="26"><!-- react-text: 27 -->To help with this, I&#x27;ve abstracted out a component that uses <!-- /react-text --><link href="https://github.com/regl-project/multi-regl" data-reactid="28"/><!-- react-text: 29 -->
to multiplex a single regl instance over the entire page. Then to create a custom regl component, create a class that
extends from <!-- /react-text --><code data-reactid="30"><!-- react-text: 31 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 32 --> and implements the <!-- /react-text --><code data-reactid="33"><!-- react-text: 34 -->initialize()<!-- /react-text --></code><!-- react-text: 35 --> function:<!-- /react-text --></p><div class="gist" data-reactid="36"></div><p data-reactid="37"><!-- react-text: 38 -->The <!-- /react-text --><code data-reactid="39"><!-- react-text: 40 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 41 --> handles taking control of the DOM from react, and instantiating the multiplexer.
This can be combined with many of Idyll&#x27;s built-in components to quickly add interactivity. See this component
on github: <!-- /react-text --><link href="https://github.com/idyll-lang/idyll-regl-component" data-reactid="42"/><!-- react-text: 43 -->.<!-- /react-text --></p><p data-reactid="44"><!-- react-text: 45 -->For example, you could implement a play, pause button.<!-- /react-text --></p><div data-reactid="46"></div><div class="particles" data-reactid="47"></div><div data-reactid="48"><button data-reactid="49"><div class="displayvar" data-reactid="50"></div></button><small data-reactid="51"><!-- react-text: 52 -->(Click me!)<!-- /react-text --></small></div><div style="opacity:0;" data-reactid="53"><p data-reactid="54"><!-- react-text: 55 -->
And add a way to scrub through time:<!-- /react-text --><div class="inset" data-reactid="56"><div class="range" min="-200" max="200" value="0" data-reactid="57"></div></div></p></div><div class="gist" data-reactid="58"></div><p data-reactid="59"><!-- react-text: 60 -->In this case, the particle code was updated to take a parameter that will pause its internal frame count,
and a parameter to add an offset to that count.<!-- /react-text --></p><p data-reactid="61"><!-- react-text: 62 -->Read more about Idyll at <!-- /react-text --><link href="https://idyll-lang.github.io/" data-reactid="63"/></p></div>
    </div>
    <script src="index.js"></script>
  </body>
</html>
