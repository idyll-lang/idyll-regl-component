<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
      <title>
        Idyll REGL
      </title>
      <meta property="og:title" content="Idyll REGL">
    <meta charset="utf-8">
    <meta property="og:type" content="article">

      <meta property="og:description" content="Using Idyll with REGL for inline webgl">
      <meta property="description" content="Using Idyll with REGL for inline webgl">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="idyll-mount">
      <div class="idyll-root" data-reactroot="" data-reactid="1" data-react-checksum="-1855357733"><meta title="Idyll REGL" data-reactid="2"/><div class="idylllogo" data-reactid="3"></div><header title="Using regl with Idyll" data-reactid="4"></header><p data-reactid="5"><!-- react-text: 6 -->If you haven&#x27;t seen regl, go check out the website: <!-- /react-text --><link href="http://regl.party/" data-reactid="7"/><!-- react-text: 8 -->.
It&#x27;s a really nice library for stateless WebGL programming, created by <!-- /react-text --><link href="https://0hz.life/" data-reactid="9"/><!-- react-text: 10 -->.
Because of the statelessness, regl commands are naturally parameterized, making it straightforward to include WebGL sketches
inline with your text in Idyll.<!-- /react-text --></p><p data-reactid="11"><!-- react-text: 12 -->For example, with a minor modification to regl&#x27;s <!-- /react-text --><link href="http://regl.party/examples" data-reactid="13"/><!-- react-text: 14 -->
I can embed it in an Idyll document. With just a couple of lines, I can add a dynamic variable to change the size of the particles,<!-- /react-text --></p><p data-reactid="15"><!-- react-text: 16 -->
Particle size: <!-- /react-text --><div class="dynamic" value="0.5" min="0.1" max="8" data-reactid="17"></div></p><div class="particles" data-reactid="18"></div><div class="gist" data-reactid="19"></div><p data-reactid="20"><!-- react-text: 21 -->
and let a reader change the angle of rotation, Î¸ = <!-- /react-text --><div class="dynamic" value="0.04" format="0.2f" data-reactid="22"></div><!-- react-text: 23 -->,
of this <!-- /react-text --><link href="http://regl.party/examples" data-reactid="24"/><!-- react-text: 25 -->.<!-- /react-text --></p><div class="geomorph" data-reactid="26"></div><p data-reactid="27"><!-- react-text: 28 -->To help with this, I&#x27;ve abstracted out a component that uses <!-- /react-text --><link href="https://github.com/regl-project/multi-regl" data-reactid="29"/><!-- react-text: 30 -->
to multiplex a single regl instance over the entire page. Then to create a custom regl component, create a class that
extends from <!-- /react-text --><code data-reactid="31"><!-- react-text: 32 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 33 --> and implements the <!-- /react-text --><code data-reactid="34"><!-- react-text: 35 -->initialize()<!-- /react-text --></code><!-- react-text: 36 --> function:<!-- /react-text --></p><div class="gist" data-reactid="37"></div><p data-reactid="38"><!-- react-text: 39 -->The <!-- /react-text --><code data-reactid="40"><!-- react-text: 41 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 42 --> handles taking control of the DOM from react, and instantiating the multiplexer.
This can be combined with many of Idyll&#x27;s built-in components to quickly add interactivity. See this component
on github: <!-- /react-text --><link href="https://github.com/idyll-lang/idyll-regl-component" data-reactid="43"/><!-- react-text: 44 -->.<!-- /react-text --></p><p data-reactid="45"><!-- react-text: 46 -->For example, you could implement a play, pause button.<!-- /react-text --></p><div data-reactid="47"></div><div class="particles" data-reactid="48"></div><div data-reactid="49"><button data-reactid="50"><div class="displayvar" data-reactid="51"></div></button><small data-reactid="52"><!-- react-text: 53 -->(Click me!)<!-- /react-text --></small></div><div style="opacity:0;" data-reactid="54"><p data-reactid="55"><!-- react-text: 56 -->
And add a way to scrub through time:<!-- /react-text --><div class="inset" data-reactid="57"><div class="range" min="-200" max="200" value="0" data-reactid="58"></div></div></p></div><div class="gist" data-reactid="59"></div><p data-reactid="60"><!-- react-text: 61 -->In this case, the particle code was updated to take a parameter that will pause its internal frame count,
and a parameter to add an offset to that count.<!-- /react-text --></p><p data-reactid="62"><!-- react-text: 63 -->Read more about Idyll at <!-- /react-text --><link href="https://idyll-lang.github.io/" data-reactid="64"/><!-- react-text: 65 -->,
or <!-- /react-text --><link href="https://github.com/idyll-lang/idyll-regl-component/tree/master/examples/basic" data-reactid="66"/><!-- react-text: 67 -->.<!-- /react-text --></p></div>
    </div>
    <script src="index.js"></script>
  </body>
</html>
