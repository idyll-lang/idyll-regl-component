<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
      <title>
        Idyll REGL
      </title>
      <meta property="og:title" content="Idyll REGL">
    <meta charset="utf-8">
    <meta property="og:type" content="article">

      <meta property="og:description" content="Using Idyll with REGL for inline webgl">
      <meta property="description" content="Using Idyll with REGL for inline webgl">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div id="idyll-mount">
      <div class="idyll-root" data-reactroot="" data-reactid="1" data-react-checksum="1237615173"><meta title="Idyll REGL" data-reactid="2"/><div class="idylllogo" data-reactid="3"></div><header title="Using regl with Idyll" data-reactid="4"></header><p data-reactid="5"><!-- react-text: 6 -->If you haven&#x27;t seen regl, go check out the website: <!-- /react-text --><link href="http://regl.party/" data-reactid="7"/><!-- react-text: 8 -->.
It&#x27;s a really nice library for stateless WebGL programming, created by <!-- /react-text --><link href="https://0hz.life/" data-reactid="9"/><!-- react-text: 10 -->.
Because of the statelessness, regl commands are naturally parameterized, making it straightforward to include WebGL sketches
inline with your text in Idyll.<!-- /react-text --></p><p data-reactid="11"><!-- react-text: 12 -->For example, with a minor modification to regl&#x27;s <!-- /react-text --><link href="http://regl.party/examples" data-reactid="13"/><!-- react-text: 14 -->
I can embed it in an Idyll document. With just a couple of lines, I can add a dynamic variable to change the size of the particles,<!-- /react-text --></p><div class="particles" data-reactid="15"></div><p data-reactid="16"><!-- react-text: 17 -->Particle size: <!-- /react-text --><div class="dynamic" value="0.5" min="0.1" max="8" data-reactid="18"></div></p><div class="gist" data-reactid="19"></div><p data-reactid="20"><!-- react-text: 21 -->
and let a reader change the angle of rotation
of this <!-- /react-text --><link href="http://regl.party/examples" data-reactid="22"/><!-- react-text: 23 -->.<!-- /react-text --></p><div class="geomorph" data-reactid="24"></div><p data-reactid="25"><!-- react-text: 26 -->Î¸ = <!-- /react-text --><div class="dynamic" value="2.08" format="0.2f" data-reactid="27"></div></p><p data-reactid="28"><!-- react-text: 29 -->To help with this, I&#x27;ve abstracted out a component that uses <!-- /react-text --><link href="https://github.com/regl-project/multi-regl" data-reactid="30"/><!-- react-text: 31 -->
to multiplex a single regl instance over the entire page. To create a custom regl component, create a class that
extends from <!-- /react-text --><code data-reactid="32"><!-- react-text: 33 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 34 --> and implements the <!-- /react-text --><code data-reactid="35"><!-- react-text: 36 -->initialize()<!-- /react-text --></code><!-- react-text: 37 --> function:<!-- /react-text --></p><div class="gist" data-reactid="38"></div><p data-reactid="39"><!-- react-text: 40 -->The <!-- /react-text --><code data-reactid="41"><!-- react-text: 42 -->idyll-regl-component<!-- /react-text --></code><!-- react-text: 43 --> handles taking control of the DOM from react, and instantiating the multiplexer.
This can be combined with many of Idyll&#x27;s built-in components to quickly add interactivity. See this component
on github: <!-- /react-text --><link href="https://github.com/idyll-lang/idyll-regl-component" data-reactid="44"/><!-- react-text: 45 -->.<!-- /react-text --></p><p data-reactid="46"><!-- react-text: 47 -->For example, you could implement a play, pause button.<!-- /react-text --></p><div data-reactid="48"></div><div class="particles" data-reactid="49"></div><div data-reactid="50"><button data-reactid="51"><div class="displayvar" data-reactid="52"></div></button><small data-reactid="53"><!-- react-text: 54 -->(Click me!)<!-- /react-text --></small></div><div style="opacity:0;" data-reactid="55"><p data-reactid="56"><!-- react-text: 57 -->
And add a way to scrub through time:<!-- /react-text --><div class="inset" data-reactid="58"><div class="range" min="-200" max="200" value="0" data-reactid="59"></div></div></p></div><div class="gist" data-reactid="60"></div><p data-reactid="61"><!-- react-text: 62 -->In this case, the particle code was updated to take a parameter that will pause its internal frame count,
and a parameter to add an offset to that count.<!-- /react-text --></p><p data-reactid="63"><!-- react-text: 64 -->Read more about Idyll at <!-- /react-text --><link href="https://idyll-lang.github.io/" data-reactid="65"/><!-- react-text: 66 -->,
or <!-- /react-text --><link href="https://github.com/idyll-lang/idyll-regl-component/tree/master/examples/basic" data-reactid="67"/><!-- react-text: 68 -->.<!-- /react-text --></p></div>
    </div>
    <script src="index.js"></script>
  </body>
</html>
